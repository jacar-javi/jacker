http:
  middlewares:
    # API chain with rate limiting and CORS
    chain-api:
      chain:
        middlewares:
          - crowdsec-bouncer@file         # CrowdSec IPS protection via Traefik plugin
          - middlewares-rate-limit-api@file
          - middlewares-cors-restrict@file
          - middlewares-secure-headers@file
          - middlewares-cache-api@file
          - middlewares-compress@file

    # Public API chain with permissive CORS
    chain-api-public:
      chain:
        middlewares:
          - middlewares-rate-limit-api@file
          - middlewares-cors-allow@file
          - middlewares-secure-headers@file
          - middlewares-cache-api@file
          - middlewares-compress@file
