# Trivy Web UI Options

## Overview

Trivy server mode (currently deployed) provides a REST API but **does not include a browser-based web interface**. Users accessing `https://trivy.${PUBLIC_FQDN}` will encounter API endpoints, not a dashboard.

## Current Access Methods

1. **API Access**: `https://trivy.${PUBLIC_FQDN}/v1/*` (OAuth protected)
2. **Metrics**: `https://trivy.${PUBLIC_FQDN}/metrics` (Prometheus format)
3. **CLI**: `trivy client --remote https://trivy.${PUBLIC_FQDN} image:tag`
4. **Reports**: `/data/trivy/reports/` (generated by automated scans)
5. **Grafana**: Visualize metrics in existing dashboards

## Option 1: Deploy Third-Party Web UI (Recommended)

### Trivy_WebUI
- **GitHub**: https://github.com/soheilsheikh/Trivy_WebUI
- **Features**: Dashboard, scan management, visualization, reports
- **Stack**: Node.js/React frontend + Trivy backend integration

### Pointvy
- **GitHub**: https://github.com/pointvy/pointvy
- **Features**: Simple web interface for Trivy execution
- **Stack**: Minimal web frontend

### Implementation Steps:
1. Create `compose/trivy-ui.yml` with new service
2. Configure connection to `http://trivy:8080`
3. Add Traefik labels for `https://trivy.${PUBLIC_FQDN}`
4. Remove Traefik labels from Trivy server (keep it internal-only)
5. Update Homepage href to point to trivy-ui

## Option 2: Grafana Integration (Current Approach)

Use existing Grafana for visualization:
- Import Trivy metrics to Grafana dashboards
- Create custom JSON datasource for scan reports
- Link Homepage to Grafana dashboard instead

## Option 3: API-Only (Current State)

Keep Trivy as API-only backend:
- Document API endpoints clearly
- Use trivy-scan.sh for automated scanning
- Access reports via file browser or Portainer
- Remove misleading web UI references

## Recommendation

For production use, deploy Trivy_WebUI (Option 1) to provide:
- User-friendly scan management
- Visual report browsing
- Scan history and trending
- Integration with existing OAuth authentication
